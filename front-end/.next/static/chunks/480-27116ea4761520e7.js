(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[480],{495:()=>{},5506:(e,t,a)=>{"use strict";a.d(t,{A:()=>h});var n=a(5155),r=a(2115),s=a(6874),i=a.n(s),l=a(5839),o=a(1976),c=a(3109),d=a(7580),u=a(4835),m=a(9785);let h=()=>{var e,t,a;let[s,h]=(0,r.useState)(!1),{isConnected:p,connect:g,disconnect:x,userData:v}=(0,l.v)();return(0,r.useEffect)(()=>{h(!0)},[]),(0,n.jsx)("nav",{className:"bg-white shadow-lg border-b border-gray-200",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,n.jsxs)("div",{className:"flex justify-between h-16",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsxs)(i(),{href:"/",className:"flex items-center space-x-2",children:[(0,n.jsx)(o.A,{className:"h-8 w-8 text-orange-500"}),(0,n.jsx)("span",{className:"font-bold text-xl text-gray-900",children:"DeFi Donation Tracker"})]}),(0,n.jsxs)("div",{className:"hidden md:flex ml-10 space-x-8",children:[(0,n.jsxs)(i(),{href:"/",className:"text-gray-700 hover:text-orange-600 px-3 py-2 rounded-md text-sm font-medium flex items-center space-x-1",children:[(0,n.jsx)(c.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:"Campaigns"})]}),s&&p&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i(),{href:"/create",className:"text-gray-700 hover:text-orange-600 px-3 py-2 rounded-md text-sm font-medium",children:"Create Campaign"}),(0,n.jsxs)(i(),{href:"/dashboard",className:"text-gray-700 hover:text-orange-600 px-3 py-2 rounded-md text-sm font-medium flex items-center space-x-1",children:[(0,n.jsx)(d.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:"Dashboard"})]})]})]})]}),(0,n.jsx)("div",{className:"flex items-center space-x-4",children:s&&p?(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("div",{className:"hidden sm:flex items-center space-x-2 bg-gray-100 px-3 py-2 rounded-lg",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,n.jsxs)("span",{className:"text-sm text-gray-700 font-medium",children:[null==v||null==(a=v.profile)||null==(t=a.stxAddress)||null==(e=t.testnet)?void 0:e.slice(0,8),"..."]})]}),(0,n.jsxs)("button",{onClick:x,className:"flex items-center space-x-2 bg-red-100 hover:bg-red-200 text-red-700 px-4 py-2 rounded-lg transition-colors duration-200",children:[(0,n.jsx)(u.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Disconnect"})]})]}):s?(0,n.jsxs)("button",{onClick:g,className:"flex items-center space-x-2 bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors duration-200",children:[(0,n.jsx)(m.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:"Connect Wallet"})]}):(0,n.jsxs)("div",{className:"flex items-center space-x-2 bg-gray-300 text-gray-500 px-6 py-2 rounded-lg",children:[(0,n.jsx)(m.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:"Loading..."})]})})]}),(0,n.jsx)("div",{className:"md:hidden",children:(0,n.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[(0,n.jsx)(i(),{href:"/",className:"text-gray-700 hover:text-orange-600 block px-3 py-2 rounded-md text-base font-medium",children:"Campaigns"}),s&&p&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i(),{href:"/create",className:"text-gray-700 hover:text-orange-600 block px-3 py-2 rounded-md text-base font-medium",children:"Create Campaign"}),(0,n.jsx)(i(),{href:"/dashboard",className:"text-gray-700 hover:text-orange-600 block px-3 py-2 rounded-md text-base font-medium",children:"Dashboard"})]})]})})]})})}},5839:(e,t,a)=>{"use strict";a.d(t,{r:()=>l,v:()=>i});var n=a(5155),r=a(2115);let s=(0,r.createContext)(void 0),i=()=>{let e=(0,r.useContext)(s);if(!e)throw Error("useWallet must be used within a WalletProvider");return e},l=e=>{let{children:t}=e,[a,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null),h=async()=>{console.log("Wallet connection stub - @stacks integration disabled temporarily"),i(!0),o({profile:{stxAddress:{testnet:"ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM"}}})},p=async(e,t,a,n)=>{throw console.log("Create campaign stub:",{title:e,description:t,targetAmount:a,duration:n}),m("@stacks integration temporarily disabled - campaign creation not available"),Error("Campaign creation not implemented yet - @stacks integration needed")},g=async(e,t,a)=>{throw console.log("Donate to campaign stub:",{campaignId:e,amount:t,message:a}),m("@stacks integration temporarily disabled - donations not available"),Error("Donation not implemented yet - @stacks integration needed")},x=async e=>{throw console.log("Withdraw funds stub:",{campaignId:e}),m("@stacks integration temporarily disabled - withdrawals not available"),Error("Withdrawal not implemented yet - @stacks integration needed")};return(0,n.jsx)(s.Provider,{value:{isConnected:a,userData:l,userSession:null,connect:h,disconnect:()=>{console.log("Wallet disconnect stub"),i(!1),o(null)},createCampaign:p,donateToCampaign:g,makeDonation:g,withdrawFunds:x,loading:c,error:u},children:t})}},8453:(e,t,a)=>{"use strict";a.d(t,{U:()=>p});var n=a(6743),r=a(5151),s=a(8682),i=a(9082);let l=[{id:1,title:"Help Flood Victims in Local Community",description:"Supporting families affected by recent flooding with emergency supplies, temporary housing, and rebuilding assistance. Every donation helps provide immediate relief and long-term recovery support.",targetAmount:100,currentAmount:67.5,creator:"ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",endBlock:15e4,isActive:!0,createdAt:145e3},{id:2,title:"Education Fund for Underprivileged Children",description:"Providing school supplies, uniforms, and educational resources to children from low-income families. Your contribution helps break the cycle of poverty through education.",targetAmount:250,currentAmount:180.25,creator:"ST2CY5V39NHDPWSXMW9QDT3HC3GD6Q6XX4CFRK9H",endBlock:148e3,isActive:!0,createdAt:142e3},{id:3,title:"Animal Shelter Emergency Fund",description:"Our local animal shelter needs urgent support for medical care, food, and shelter improvements. Help us save and care for abandoned and injured animals in our community.",targetAmount:75,currentAmount:75,creator:"ST3NBRSFKX28FQ2ZJ1MAKX58HKHSDGNV5N7R21XCP",endBlock:14e4,isActive:!1,createdAt:135e3},{id:4,title:"Clean Water Initiative",description:"Building wells and water purification systems in rural areas lacking access to clean water. This project will provide safe drinking water to over 500 families.",targetAmount:500,currentAmount:125.75,creator:"ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5",endBlock:155e3,isActive:!0,createdAt:147e3},{id:5,title:"Medical Equipment for Rural Clinic",description:"Purchasing essential medical equipment for a rural clinic serving remote communities. This includes diagnostic tools, emergency equipment, and basic medical supplies.",targetAmount:300,currentAmount:45.5,creator:"ST2REHHS5J3CERCRBEPMGH7921Q6PYKAADT7JP2VB",endBlock:152e3,isActive:!0,createdAt:146e3}];var o=a(9509);let c="mainnet"===(o.env.NEXT_PUBLIC_STACKS_NETWORK||"testnet")?n.nG:n.SS,d=o.env.NEXT_PUBLIC_CONTRACT_DEPLOYER_TESTNET_ADDRESS||"ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",u=o.env.NEXT_PUBLIC_DONATION_CONTRACT_NAME||"donation-tracker";o.env.NEXT_PUBLIC_REWARDS_CONTRACT_NAME;let m=o.env.NEXT_PUBLIC_PLATFORM_HIRO_API_KEY;class h{async makeHiroApiCall(e){let t={"Content-Type":"application/json"};m&&(t.Authorization="Bearer ".concat(m));let a=await fetch("".concat(this.apiUrl).concat(e),{method:"GET",headers:t});if(!a.ok)throw Error("Hiro API call failed: ".concat(a.statusText));return a.json()}async fetchContractData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{let a=await (0,r.FC)({contractAddress:d,contractName:u,functionName:e,functionArgs:t,network:c,senderAddress:d});return(0,s.JP)(a)}catch(t){return console.error("Error calling ".concat(e,":"),t),console.log("Falling back to mock data due to contract error"),null}}async getCampaign(e){var t,a,n,r,s,o,c,d;try{let u=await this.fetchContractData("get-campaign",[(0,i.y3)(e.toString())]);if(u&&u.success&&u.value)return{id:e,title:(null==(t=u.value.title)?void 0:t.value)||"",description:(null==(a=u.value.description)?void 0:a.value)||"",targetAmount:parseInt((null==(n=u.value["target-amount"])?void 0:n.value)||"0")/1e6,currentAmount:parseInt((null==(r=u.value["raised-amount"])?void 0:r.value)||"0")/1e6,creator:(null==(s=u.value.creator)?void 0:s.value)||"",endBlock:parseInt((null==(o=u.value["end-block"])?void 0:o.value)||"0"),isActive:(null==(c=u.value["is-active"])?void 0:c.value)||!1,createdAt:parseInt((null==(d=u.value["created-at"])?void 0:d.value)||"0")};return l.find(t=>t.id===e)||null}catch(t){return console.error("Error fetching campaign:",t),l.find(t=>t.id===e)||null}}async getTotalCampaigns(){try{let e=await this.fetchContractData("get-donation-counter");return(null==e?void 0:e.success)?parseInt(e.value):l.length}catch(e){return console.error("Error fetching total campaigns:",e),l.length}}async getTotalDonations(){try{let e=await this.fetchContractData("get-donation-counter");return(null==e?void 0:e.success)?parseInt(e.value):0}catch(e){return console.error("Error fetching total donations:",e),0}}async getAllCampaigns(){try{let e=await this.fetchContractData("get-donation-counter"),t=(null==e?void 0:e.success)?parseInt(e.value):l.length,a=[];for(let e=1;e<=Math.min(t,10);e++){let t=await this.getCampaign(e);t&&a.push(t)}return a.length>0?a:[...l]}catch(e){return console.error("Error fetching all campaigns:",e),[...l]}}constructor(){this.apiUrl=o.env.NEXT_PUBLIC_STACKS_API_URL||"https://api.testnet.hiro.so"}}let p=new h}}]);