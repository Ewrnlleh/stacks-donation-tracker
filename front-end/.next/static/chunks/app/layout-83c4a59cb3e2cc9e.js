(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},495:()=>{},1481:(e,n,t)=>{var o={"./connect-modal.entry.js":[8736,736]};function r(e){if(!t.o(o,e))return Promise.resolve().then(()=>{var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n});var n=o[e],r=n[0];return t.e(n[1]).then(()=>t(r))}r.keys=()=>Object.keys(o),r.id=1481,e.exports=r},1677:(e,n,t)=>{Promise.resolve().then(t.t.bind(t,4147,23)),Promise.resolve().then(t.t.bind(t,8489,23)),Promise.resolve().then(t.t.bind(t,347,23)),Promise.resolve().then(t.bind(t,6088)),Promise.resolve().then(t.bind(t,4292))},4292:(e,n,t)=>{"use strict";t.d(n,{Providers:()=>u});var o=t(5155),r=t(2115),a=t(9037);function l(e){let{children:n}=e,[t,l]=(0,r.useState)(a.xd[0]);return(0,o.jsx)(a.TV.Provider,{value:{currentWallet:t,wallets:a.xd,setCurrentWallet:e=>{e&&l(e)}},children:n})}var i=t(5839),s=t(2922),c=t(6715);let d=new s.E;function u(e){let{children:n}=e;return(0,o.jsx)(c.Ht,{client:d,children:(0,o.jsx)(i.r,{children:(0,o.jsx)(l,{children:n})})})}},5839:(e,n,t)=>{"use strict";t.d(n,{r:()=>g,v:()=>h});var o=t(5155),r=t(2115),a=t(6021),l=t(5322),i=t(9082),s=t(146),c=t(7995),d=t(9509);let u=(0,r.createContext)(void 0),h=()=>{let e=(0,r.useContext)(u);if(!e)throw Error("useWallet must be used within a WalletProvider");return e},m=new a.oO(["store_write","publish_data"]),g=e=>{let{children:n}=e,[t]=(0,r.useState)(()=>new a._T({appConfig:m})),[h,g]=(0,r.useState)(!1),[w,f]=(0,r.useState)(null),[p,x]=(0,r.useState)(!1),[y,b]=(0,r.useState)(null),v="mainnet"===d.env.NEXT_PUBLIC_NETWORK?l.nG:l.SS,N=d.env.NEXT_PUBLIC_CONTRACT_ADDRESS||"ST3AM1A56AK2C1XAFJ4115ZSV26EB49BVQ10MGCS0",C=d.env.NEXT_PUBLIC_DONATION_CONTRACT_NAME||"donation-tracker-v2";(0,r.useEffect)(()=>{t.isSignInPending()?t.handlePendingSignIn().then(e=>{f(e),g(!0)}):t.isUserSignedIn()&&(f(t.loadUserData()),g(!0))},[t]);let A=async()=>{x(!0);try{await (0,a.OT)({appDetails:{name:"DeFi Donation Tracker",icon:"/logo.svg"},redirectTo:"/",onFinish:()=>{window.location.reload()},userSession:t})}catch(e){console.error("Wallet connection error:",e),b("Failed to connect wallet")}finally{x(!1)}},T=async(e,n,t,o)=>{if(!h)throw Error("Wallet not connected");x(!0);try{let r=Math.floor(1e6*t);await (0,a.XU)({network:v,contractAddress:N,contractName:C,functionName:"create-campaign",functionArgs:[(0,i.y3)(e),(0,i.y3)(n),(0,s.u)(r),(0,s.u)(o)],postConditionMode:c.FN.Allow,anchorMode:c.Fj.Any,onFinish:e=>{console.log("Campaign created successfully:",e)},onCancel:()=>{console.log("Campaign creation cancelled")}})}catch(e){throw console.error("Campaign creation error:",e),b("Failed to create campaign"),e}finally{x(!1)}},D=async(e,n,t)=>{if(!h)throw Error("Wallet not connected");x(!0);try{let o=Math.floor(1e6*n);await (0,a.XU)({network:v,contractAddress:N,contractName:C,functionName:"donate-to-campaign",functionArgs:[(0,s.u)(e),(0,s.u)(o),(0,i.y3)(t||"")],postConditionMode:c.FN.Allow,anchorMode:c.Fj.Any,onFinish:e=>{console.log("Donation successful:",e)},onCancel:()=>{console.log("Donation cancelled")}})}catch(e){throw console.error("Donation error:",e),b("Failed to make donation"),e}finally{x(!1)}},S=async e=>{if(!h)throw Error("Wallet not connected");x(!0);try{await (0,a.XU)({network:v,contractAddress:N,contractName:C,functionName:"withdraw-funds",functionArgs:[(0,s.u)(e)],postConditionMode:c.FN.Allow,anchorMode:c.Fj.Any,onFinish:e=>{console.log("Withdrawal successful:",e)},onCancel:()=>{console.log("Withdrawal cancelled")}})}catch(e){throw console.error("Withdrawal error:",e),b("Failed to withdraw funds"),e}finally{x(!1)}};return(0,o.jsx)(u.Provider,{value:{isConnected:h,userData:w,userSession:t,connect:A,disconnect:()=>{t.signUserOut(),g(!1),f(null),window.location.reload()},createCampaign:T,donateToCampaign:D,makeDonation:D,withdrawFunds:S,loading:p,error:y},children:n})}},6088:(e,n,t)=>{"use strict";t.d(n,{Navbar:()=>c});var o=t(5155),r=t(6874),a=t.n(r),l=t(2115),i=t(9037);let s=e=>{let{className:n="",children:t="Connect Wallet",variant:r="primary",size:a="md",...l}=e,i="".concat("font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-900 focus:ring-gray-500"}[r]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[a]," ").concat(n);return(0,o.jsx)("button",{className:i,onClick:()=>{console.log("Connect wallet clicked")},...l,children:t})},c=()=>(0,o.jsx)("nav",{className:"bg-white shadow-sm",children:(0,o.jsx)("div",{className:"container mx-auto max-w-7xl",children:(0,o.jsxs)("div",{className:"flex justify-between h-16 items-center px-4",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"bg-white rounded-md border-2 border-gray-700 text-xl font-bold w-12 h-12 flex justify-center items-center text-gray-900",children:"â™¦"}),(0,o.jsx)(a(),{href:"/",className:"no-underline",children:(0,o.jsx)("div",{className:"text-lg font-bold text-gray-900 ml-4",children:"Donation Tracker"})})]}),(0,o.jsx)("div",{className:"flex items-center gap-4",children:(0,o.jsx)(s,{})})]})})})},9037:(e,n,t)=>{"use strict";t.d(n,{TV:()=>a,hr:()=>l,xd:()=>r});var o=t(2115);let r=[{stxAddress:"ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",label:"Deployer",mnemonic:"twice kind fence tip hidden tilt action fragile skin nothing glory cousin green tomorrow spring wrist shed math olympic multiply hip blue scout claw"},{stxAddress:"ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5",label:"Wallet 1",mnemonic:"sell invite acquire kitten bamboo drastic jelly vivid peace spawn twice guilt pave pen trash pretty park cube fragile unaware remain midnight betray rebuild"},{stxAddress:"ST2CY5V39NHDPWSXMW9QDT3HC3GD6Q6XX4CFRK9AG",label:"Wallet 2",mnemonic:"hold excess usual excess ring elephant install account glad dry fragile donkey gaze humble truck breeze nation gasp vacuum limb head keep delay hospital"},{stxAddress:"ST2JHG361ZXG51QTKY2NQCVBPPRRE2KZB1HR05NNC",label:"Wallet 3",mnemonic:"cycle puppy glare enroll cost improve round trend wrist mushroom scorpion tower claim oppose clever elephant dinosaur eight problem before frozen dune wagon high"},{stxAddress:"ST2NEB84ASENDXKYGJPQW86YXQCEFEX2ZQPG87ND",label:"Wallet 4",mnemonic:"board list obtain sugar hour worth raven scout denial thunder horse logic fury scorpion fold genuine phrase wealth news aim below celery when cabin"}],a=(0,o.createContext)({currentWallet:null,wallets:r,setCurrentWallet:()=>{}}),l=()=>(0,o.useContext)(a)}},e=>{var n=n=>e(e.s=n);e.O(0,[896,112,464,441,684,358],()=>n(1677)),_N_E=e.O()}]);